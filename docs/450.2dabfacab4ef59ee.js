"use strict";(self.webpackChunkangularexampleapp=self.webpackChunkangularexampleapp||[]).push([[450],{9450:(p_,u,E)=>{E.r(u),E.d(u,{HeroModule:()=>h_});var i=E(9133),I=E(7995),M=E(3886);function d(e,n,t,o,r,a,s){try{var A=e[a](s),S=A.value}catch(O){return void t(O)}A.done?n(S):Promise.resolve(S).then(o,r)}var _=E(3668),f=E(4019);let h=(()=>{class e{constructor(t){this.heroService=t}resolve(t){var o=this;return function(e){return function(){var n=this,t=arguments;return new Promise(function(o,r){var a=e.apply(n,t);function s(S){d(a,o,r,s,A,"next",S)}function A(S){d(a,o,r,s,A,"throw",S)}s(void 0)})}}(function*(){const r=t.paramMap.get("id")||"";return o.heroService.getHeroById(r)})()}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(f.e))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac}),e})();var R=E(9814),p=E(5551),c=E(7244),P=E(6019),T=E(86),$=E(4096),y=E(9664);function D(e,n){1&e&&(_.TgZ(0,"div",6),_._UZ(1,"app-hero-loading"),_.qZA())}function Y(e,n){if(1&e&&(_.TgZ(0,"div",6),_.ynx(1),_._UZ(2,"app-hero-card",7),_.TgZ(3,"div",8),_.TgZ(4,"pre"),_._uU(5),_.ALo(6,"json"),_.qZA(),_.qZA(),_.BQk(),_.qZA()),2&e){const t=_.oxw();_.Q6J("@fadeIn","fadeIn"),_.xp6(2),_.Q6J("hero",t.hero),_.xp6(3),_.Oqu(_.lcZ(6,3,t.hero))}}function x(e,n){if(1&e){const t=_.EpF();_.TgZ(0,"button",9),_.NdJ("click",function(){return _.CHM(t),_.oxw().goToTheAnchor()}),_.SDv(1,10),_.qZA()}}let X=(()=>{class e{constructor(t,o,r){this.location=t,this.router=o,this.activatedRoute=r}ngOnInit(){this.activatedRoute.snapshot.data.hero.subscribe(t=>{this.hero=t})}goBack(){this.location.back()}goToTheAnchor(){this.hero&&this.router.navigate([c.ff.routes.hero.detail(this.hero.id)],{fragment:"heroe-detail"})}}return e.\u0275fac=function(t){return new(t||e)(_.Y36(P.Ye),_.Y36(M.F0),_.Y36(M.gz))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-hero-detail-page"]],decls:7,vars:3,consts:function(){let n,t,o;return n="Hero detail",t=" Go back\n",o=" Anchor the hero\n",[[1,"header__title"],n,["class","container",4,"ngIf"],["aria-label","Anchor the hero button","mat-raised-button","","type","button",3,"click",4,"ngIf"],["aria-label","Go back button","mat-raised-button","","type","button",3,"click"],t,[1,"container"],[3,"hero"],["id","hero-json"],["aria-label","Anchor the hero button","mat-raised-button","","type","button",3,"click"],o]},template:function(t,o){1&t&&(_.TgZ(0,"h1",0),_.SDv(1,1),_.qZA(),_.YNc(2,D,2,0,"div",2),_.YNc(3,Y,7,5,"div",2),_.YNc(4,x,2,0,"button",3),_.TgZ(5,"button",4),_.NdJ("click",function(){return o.goBack()}),_.SDv(6,5),_.qZA()),2&t&&(_.xp6(2),_.Q6J("ngIf",!o.hero),_.xp6(1),_.Q6J("ngIf",o.hero),_.xp6(1),_.Q6J("ngIf",o.hero))},directives:[P.O5,T.lW,$.l,y.O],pipes:[P.Ts],styles:[".container[_ngcontent-%COMP%]{width:65%;margin-left:auto;margin-right:auto;margin-top:2rem}button[_ngcontent-%COMP%]{margin:2rem auto;display:block}@media (max-width: 600px){.container[_ngcontent-%COMP%]{width:90%}}"],data:{animation:[(0,R.X$)("fadeIn",[(0,R.eR)("* => *",(0,R._7)(p.K1,{params:{timing:1,delay:0}}))])]}}),e})();var J=E(574),g=E(5304);let F=(()=>{class e{constructor(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-hero-remove"]],decls:9,vars:1,consts:function(){let n,t,o,r;return n="Delete hero",t="Are you sure?",o="No",r="Yes",[["mat-dialog-title",""],n,t,["aria-label","no button","mat-button","","mat-dialog-close",""],o,["aria-label","yes button","mat-button","",3,"mat-dialog-close"],r]},template:function(t,o){1&t&&(_.TgZ(0,"h2",0),_.SDv(1,1),_.qZA(),_.TgZ(2,"mat-dialog-content"),_.SDv(3,2),_.qZA(),_.TgZ(4,"mat-dialog-actions"),_.TgZ(5,"button",3),_.SDv(6,4),_.qZA(),_.TgZ(7,"button",5),_.SDv(8,6),_.qZA(),_.qZA()),2&t&&(_.xp6(7),_.Q6J("mat-dialog-close",!0))},directives:[g.uh,g.xY,g.H8,T.lW,g.ZT],encapsulation:2}),e})();var B=E(2416),b=E(189),W=E(4753);class Q{constructor(n={}){this.email=n.email,this.firstname=n.firstname,this.lastname=n.lastname,this.role=n.role,this.heroes=n.heroes}deserialize(n){return Object.assign(this,n),this}}var q=E(7714);let w=(()=>{class e{constructor(t){this.apollo=t}getMe({fetchPolicy:t}){return this.apollo.watchQuery({query:b.Ps`
        query Me {
          me {
            id
            email
            firstname
            lastname
            heroes {
              id
              realName
              alterEgo
            }
          }
        }
      `,fetchPolicy:t}).valueChanges.pipe((0,W.U)(o=>new Q(o.data.me)))}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(q._M))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var z=E(9632),V=E(1234),m=E(4867),k=E(6731),j=E(3149),K=E(9112),__=E(8858),C=E(8167),e_=E(138);const t_=["form"];function o_(e,n){1&e&&(_.TgZ(0,"p",13),_.SDv(1,14),_.qZA())}function n_(e,n){1&e&&(_.TgZ(0,"mat-list-item"),_._UZ(1,"img",17),_.TgZ(2,"h3",18),_._UZ(3,"app-loading-placeholder",19),_.qZA(),_.TgZ(4,"p",18),_._UZ(5,"app-loading-placeholder",19),_.qZA(),_.TgZ(6,"div",20),_._UZ(7,"app-loading-placeholder",19),_.TgZ(8,"mat-icon",21),_._uU(9,"favorite"),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(3),_.Q6J("width","150px")("height","0.9rem"),_.xp6(2),_.Q6J("width","100px")("height","0.9rem"),_.xp6(2),_.Q6J("width","30px")("height","0.9rem"))}const r_=function(){return[1,2,3,4,5,6,7,8]};function E_(e,n){1&e&&(_.TgZ(0,"mat-list",15),_.YNc(1,n_,10,6,"mat-list-item",16),_.qZA()),2&e&&(_.xp6(1),_.Q6J("ngForOf",_.DdM(1,r_)))}function i_(e,n){if(1&e){const t=_.EpF();_.TgZ(0,"mat-icon",23),_.NdJ("click",function(){_.CHM(t);const r=_.oxw().$implicit;return _.oxw().deleteHero(r)}),_._uU(1," delete "),_.qZA()}}function a_(e,n){if(1&e&&(_.TgZ(0,"mat-list-item"),_.TgZ(1,"h3",18),_._uU(2),_.qZA(),_.TgZ(3,"p",18),_.TgZ(4,"span"),_._uU(5),_.qZA(),_.qZA(),_.TgZ(6,"div",20),_.YNc(7,i_,2,0,"mat-icon",22),_.qZA(),_.qZA()),2&e){const t=n.$implicit;_.xp6(1),_.ekj("cp",t.published),_.xp6(1),_.hij(" ",t.alterEgo," "),_.xp6(1),_.ekj("cp",t.published),_.xp6(2),_.Oqu(t.realName),_.xp6(2),_.Q6J("ngIf",!t.published)}}function l_(e,n){1&e&&(_.TgZ(0,"div",24),_.TgZ(1,"form"),_.TgZ(2,"div",25),_._UZ(3,"app-loading-placeholder",26),_.qZA(),_.TgZ(4,"div",25),_._UZ(5,"app-loading-placeholder",26),_.qZA(),_.TgZ(6,"button",27),_.SDv(7,28),_.qZA(),_.qZA(),_.qZA()),2&e&&(_.xp6(3),_.Q6J("height","2rem"),_.xp6(2),_.Q6J("height","2rem"),_.xp6(1),_.Q6J("disabled",!0))}function S_(e,n){1&e&&_.SDv(0,36)}function s_(e,n){1&e&&_.SDv(0,37)}function A_(e,n){if(1&e&&(_.TgZ(0,"mat-error"),_.YNc(1,S_,1,0,"ng-template",35),_.YNc(2,s_,1,0,"ng-template",35),_.qZA()),2&e){const t=_.oxw(2);_.xp6(1),_.Q6J("ngIf",t.realName.errors.required),_.xp6(1),_.Q6J("ngIf",t.realName.errors.maxlength)}}function P_(e,n){1&e&&_.SDv(0,38)}function M_(e,n){if(1&e&&_.SDv(0,39),2&e){const t=_.oxw(3);_.pQV(t.alterEgo.errors.maxlength.requiredLength)(t.alterEgo.errors.maxlength.actualLength),_.QtT(0)}}function R_(e,n){if(1&e&&(_.TgZ(0,"mat-error"),_.YNc(1,P_,1,0,"ng-template",35),_.YNc(2,M_,1,2,"ng-template",35),_.qZA()),2&e){const t=_.oxw(2);_.xp6(1),_.Q6J("ngIf",t.alterEgo.errors.required),_.xp6(1),_.Q6J("ngIf",t.alterEgo.errors.maxlength)}}function O_(e,n){1&e&&(_.TgZ(0,"div"),_.SDv(1,40),_.qZA())}function g_(e,n){if(1&e){const t=_.EpF();_.TgZ(0,"div"),_.TgZ(1,"form",29,30),_.NdJ("ngSubmit",function(){return _.CHM(t),_.oxw().createNewHero()}),_.TgZ(3,"mat-form-field",25),_._UZ(4,"input",31),_.YNc(5,A_,3,2,"mat-error",9),_.qZA(),_.TgZ(6,"mat-form-field",25),_._UZ(7,"input",32),_.YNc(8,R_,3,2,"mat-error",9),_.qZA(),_.TgZ(9,"button",33),_.SDv(10,34),_.qZA(),_.YNc(11,O_,2,0,"div",9),_.qZA(),_.qZA()}if(2&e){const t=_.MAs(2),o=_.oxw();_.xp6(1),_.Q6J("formGroup",o.newHeroForm),_.xp6(4),_.Q6J("ngIf",o.realName.errors&&t.submitted),_.xp6(3),_.Q6J("ngIf",o.alterEgo.errors&&t.submitted),_.xp6(1),_.Q6J("disabled",t.submitted&&!o.newHeroForm.valid),_.xp6(2),_.Q6J("ngIf",o.error)}}function c_(e,n){1&e&&(_.TgZ(0,"pre"),_._uU(1,"      "),_._UZ(2,"app-loading-placeholder",26),_._uU(3,"\n    "),_.qZA()),2&e&&(_.xp6(2),_.Q6J("height","300px"))}function T_(e,n){if(1&e&&(_.TgZ(0,"pre"),_._uU(1),_.ALo(2,"json"),_.ALo(3,"slice"),_.qZA()),2&e){const t=_.oxw();_.xp6(1),_.Oqu(_.lcZ(2,1,_.Dn7(3,3,null==t.user?null:t.user.heroes,0,2)))}}let m_=(()=>{class e{constructor(t,o,r,a,s,A,S,O){this.heroService=t,this.userService=o,this.dialog=r,this.snackBar=a,this.utilsService=s,this.router=A,this.formBuilder=S,this.routesConfig=O,this.canVote=!1,this.myNgForm="",this.canVote=this.heroService.checkIfUserCanVote(),this.error=!1,this.realName=new i.NI("",[i.kI.required,i.kI.maxLength(30)]),this.alterEgo=new i.NI("",[i.kI.required,i.kI.maxLength(30)]),this.newHeroForm=this.formBuilder.group({realName:this.realName,alterEgo:this.alterEgo}),this.onChanges()}ngOnInit(){this.loadUser()}loadUser(){this.userService.getMe({fetchPolicy:"no-cache"}).subscribe(t=>{this.user=t})}createNewHero(){this.newHeroForm.valid&&this.heroService.createHero(new J.V(this.newHeroForm.value)).subscribe(t=>{t.errors||(this.myNgForm.resetForm(),this.utilsService.showSnackBar("Hero created","info-snack-bar"),this.loadUser())})}deleteHero(t){this.dialog.open(F).afterClosed().subscribe(r=>{r&&this.heroService.removeHero(t.id).subscribe(a=>{a.errors?this.error=!0:(this.utilsService.showSnackBar("Hero removed","info-snack-bar"),this.loadUser())})})}trackByFn(t){return t}onChanges(){var t;null===(t=this.newHeroForm.get("realName"))||void 0===t||t.valueChanges.subscribe(o=>{o&&o.length>=3&&B.V.isPalindrome(o)?this.snackBar.open("Yeah that's a Palindrome!","",{duration:2e3}):this.snackBar.dismiss()})}}return e.\u0275fac=function(t){return new(t||e)(_.Y36(f.e),_.Y36(w),_.Y36(g.uw),_.Y36(z.ux),_.Y36(V.F),_.Y36(M.F0),_.Y36(i.qu),_.Y36(c.hm))},e.\u0275cmp=_.Xpm({type:e,selectors:[["app-my-heroes-page"]],viewQuery:function(t,o){if(1&t&&_.Gf(t_,5),2&t){let r;_.iGM(r=_.CRH())&&(o.myNgForm=r.first)}},decls:19,vars:8,consts:function(){let n,t,o,r,a,s,A,S,O,H,L,U,v;return n="My heroes",t="Create a hero",o="Heroes 1 and 2",r=" No heroes yet, try to create one in the right side! ",a="Create",s="Name (Palindrome?)",A="Alter ego",S="Create",O=" Name is required ",H=" The field is too long ",L=" Name is required ",U=" The field is too long. Required length: " + "\ufffd0\ufffd" + ". Current: " + "\ufffd1\ufffd" + " ",v="An error has ocurred",[["id","left"],[1,"header__title"],n,["class","my-heroes__no-heroes--message",4,"ngIf"],["id","loading-list",4,"ngIf"],[4,"ngFor","ngForOf","ngForTrackBy"],["id","right"],t,["id","form-loading",4,"ngIf"],[4,"ngIf"],["id","heroes-json"],o,[1,"clear"],[1,"my-heroes__no-heroes--message"],r,["id","loading-list"],[4,"ngFor","ngForOf"],["alt","default hero avatar","mat-list-avatar","","src","/assets/images/default-hero.png"],["mat-line",""],[3,"width","height"],[1,"hero-actions"],[1,"icon__like--grey"],["class","icon__remove",3,"click",4,"ngIf"],[1,"icon__remove",3,"click"],["id","form-loading"],[1,"input-container"],[3,"height"],["aria-label","create button","mat-raised-button","",3,"disabled"],a,["ngxScrollToFirstInvalid","","autocomplete","on",3,"formGroup","ngSubmit"],["form","ngForm"],["matInput","","name","hname","type","text","placeholder",s,"formControlName","realName"],["matInput","","type","text","name","rname","placeholder",A,"formControlName","alterEgo"],["aria-label","create button","mat-raised-button","","type","submit",3,"disabled"],S,[3,"ngIf"],O,H,L,U,v]},template:function(t,o){1&t&&(_.TgZ(0,"div",0),_.TgZ(1,"h2",1),_.SDv(2,2),_.qZA(),_.YNc(3,o_,2,0,"p",3),_.TgZ(4,"div"),_.YNc(5,E_,2,2,"mat-list",4),_.TgZ(6,"mat-list"),_.YNc(7,a_,8,7,"mat-list-item",5),_.qZA(),_.qZA(),_.qZA(),_.TgZ(8,"div",6),_.TgZ(9,"h2",1),_.SDv(10,7),_.qZA(),_.YNc(11,l_,8,3,"div",8),_.YNc(12,g_,12,5,"div",9),_.TgZ(13,"div",10),_.TgZ(14,"h2",1),_.SDv(15,11),_.qZA(),_.YNc(16,c_,4,1,"pre",9),_.YNc(17,T_,4,7,"pre",9),_.qZA(),_.qZA(),_._UZ(18,"div",12)),2&t&&(_.xp6(3),_.Q6J("ngIf",!(null!=o.user&&null!=o.user.heroes&&o.user.heroes.length)),_.xp6(2),_.Q6J("ngIf",!(null!=o.user&&o.user.heroes)),_.xp6(2),_.Q6J("ngForOf",null==o.user?null:o.user.heroes)("ngForTrackBy",o.trackByFn),_.xp6(4),_.Q6J("ngIf",!(null!=o.user&&o.user.heroes)),_.xp6(1),_.Q6J("ngIf",null==o.user?null:o.user.heroes),_.xp6(4),_.Q6J("ngIf",!(null!=o.user&&o.user.heroes)),_.xp6(1),_.Q6J("ngIf",null==o.user?null:o.user.heroes))},directives:[P.O5,m.i$,P.sg,m.Tg,m.eA,k.X2,j.k,K.Hw,i._Y,i.JL,i.F,T.lW,__.w,i.sg,C.KE,e_.Nt,i.Fj,i.JJ,i.u,C.TO],pipes:[P.Ts,P.OU],styles:["a[_ngcontent-%COMP%]{color:#0000008a;font-size:14px;text-transform:none;text-decoration:none}#loading-list[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:.2rem}#form-loading[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{margin:.5rem 0}#left[_ngcontent-%COMP%]{width:50%;float:left;margin-left:6%}#right[_ngcontent-%COMP%]{margin-left:50%;text-align:center;padding-right:17%}.clear[_ngcontent-%COMP%]{clear:both}.mat-list[_ngcontent-%COMP%]{margin-left:auto;margin-right:auto;display:table}.mat-list[_ngcontent-%COMP%]   .mat-list-text[_ngcontent-%COMP%]{text-align:left!important}.hero-actions[_ngcontent-%COMP%]{margin-left:1rem;padding-bottom:0}.hero-actions[_ngcontent-%COMP%]   .icon__remove[_ngcontent-%COMP%]{padding-left:.5rem;color:#2f4f4f;cursor:pointer}form[_ngcontent-%COMP%]{display:grid;width:80%;margin-left:auto;margin-right:auto}form[_ngcontent-%COMP%]   .mat-raised-button[_ngcontent-%COMP%]{color:#fff;background:#3f51b5;width:50%;margin-left:auto;margin-right:auto}form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}#heroes-json[_ngcontent-%COMP%]{margin-top:2rem}#heroes-json[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{margin-top:1rem}.my-heroes__no-heroes--message[_ngcontent-%COMP%]{text-align:center;width:20%;margin:0 auto;line-height:1.7rem}@media (max-width: 680px){#left[_ngcontent-%COMP%]{width:100%;float:none;margin-left:auto;margin-right:auto}#right[_ngcontent-%COMP%]{margin:1em auto 0;width:90%;float:none;padding:0}}"],data:{animation:[(0,R.X$)("fadeIn",[(0,R.eR)("* => *",(0,R._7)(p.K1,{params:{timing:1,delay:0}}))])]}}),e})();var u_=E(8895);let N=(()=>{class e{constructor(t,o){this.authService=t,this.router=o}canActivate(t,o){return new Promise(r=>{this.authService.isLoggedIn()?r(!0):(this.router.navigate([c.ff.routes.home]),r(!1))})}}return e.\u0275fac=function(t){return new(t||e)(_.LFG(u_.e),_.LFG(M.F0))},e.\u0275prov=_.Yz7({token:e,factory:e.\u0275fac}),e})();const G=c.ff.routesNames.hero,d_=[{path:G.myHeroes,component:m_,canActivate:[N]},{path:G.detail,component:X,resolve:{hero:h}}];let f_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({providers:[h,N],imports:[[M.Bz.forChild(d_)],M.Bz]}),e})(),h_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=_.oAB({type:e}),e.\u0275inj=_.cJS({imports:[[i.u5,i.UX,I.m,f_]]}),e})()}}]);